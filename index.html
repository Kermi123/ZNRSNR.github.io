<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Карта ЗНР ПРОТИВ СНР</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <style>
        #map { height: 100vh; width: 100%; }
        .leaflet-marker-icon.emoji-marker {
            background: none !important;
            border: none !important;
            font-size: 24px !important;
            line-height: 24px !important;
            text-align: center;
            text-shadow: 0 0 2px rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
    <div id="map"></div>
    
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
    
    <script>
        // Данные карты
        const mapData = {
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {
        "color": "#1a1a1a",
        "weight": 5
      },
      "geometry": {
        "type": "LineString",
        "coordinates": [
          [
            36.209736,
            50.386523
          ],
          [
            36.205444,
            50.39484
          ],
          [
            36.194458,
            50.402062
          ],
          [
            36.192913,
            50.40436
          ],
          [
            36.184502,
            50.406548
          ],
          [
            36.176262,
            50.402062
          ],
          [
            36.160297,
            50.431705
          ],
          [
            36.118412,
            50.438375
          ],
          [
            36.085968,
            50.449416
          ],
          [
            36.070004,
            50.446902
          ],
          [
            36.067772,
            50.451165
          ],
          [
            36.041508,
            50.449525
          ],
          [
            36.02829,
            50.447448
          ],
          [
            36.002026,
            50.445371
          ],
          [
            35.976105,
            50.441108
          ],
          [
            35.96735,
            50.43586
          ],
          [
            35.937653,
            50.433345
          ],
          [
            35.936279,
            50.431486
          ],
          [
            35.921001,
            50.437172
          ],
          [
            35.889416,
            50.438921
          ],
          [
            35.87225,
            50.423175
          ],
          [
            35.854912,
            50.429846
          ],
          [
            35.835171,
            50.425362
          ],
          [
            35.831394,
            50.434329
          ],
          [
            35.793114,
            50.416613
          ],
          [
            35.80616,
            50.411143
          ],
          [
            35.80616,
            50.402828
          ],
          [
            35.738869,
            50.354661
          ],
          [
            35.673981,
            50.355757
          ],
          [
            35.659561,
            50.351814
          ],
          [
            35.654755,
            50.346556
          ],
          [
            35.68119,
            50.342612
          ],
          [
            35.68222,
            50.34787
          ],
          [
            35.694237,
            50.345241
          ],
          [
            35.688057,
            50.334943
          ],
          [
            35.682564,
            50.3356
          ],
          [
            35.680504,
            50.330998
          ],
          [
            35.672607,
            50.326395
          ],
          [
            35.660248,
            50.327053
          ],
          [
            35.657158,
            50.312804
          ],
          [
            35.648575,
            50.313243
          ],
          [
            35.647202,
            50.310831
          ],
          [
            35.630379,
            50.31675
          ],
          [
            35.671234,
            50.276176
          ],
          [
            35.68222,
            50.25423
          ],
          [
            35.70488,
            50.252035
          ],
          [
            35.707626,
            50.240179
          ],
          [
            35.717239,
            50.230516
          ],
          [
            35.739899,
            50.221291
          ],
          [
            35.765305,
            50.199759
          ],
          [
            35.736465,
            50.161725
          ],
          [
            35.745392,
            50.141926
          ],
          [
            35.776634,
            50.147646
          ],
          [
            35.7938,
            50.138405
          ],
          [
            35.829163,
            50.129603
          ],
          [
            35.849762,
            50.12344
          ],
          [
            35.876884,
            50.117496
          ],
          [
            35.904007,
            50.112212
          ],
          [
            35.92186,
            50.110011
          ],
          [
            35.953445,
            50.105607
          ],
          [
            35.972328,
            50.110231
          ],
          [
            35.983315,
            50.12344
          ],
          [
            35.982971,
            50.133124
          ],
          [
            35.985031,
            50.144126
          ],
          [
            35.995674,
            50.151386
          ],
          [
            36.005287,
            50.164584
          ],
          [
            36.039276,
            50.180856
          ],
          [
            36.071205,
            50.178327
          ],
          [
            36.077557,
            50.180196
          ],
          [
            36.075153,
            50.18811
          ],
          [
            36.071892,
            50.189869
          ],
          [
            36.07172,
            50.201957
          ],
          [
            36.06142,
            50.206791
          ],
          [
            36.03756,
            50.212724
          ],
          [
            36.053352,
            50.216019
          ],
          [
            36.067429,
            50.219754
          ],
          [
            36.07687,
            50.223488
          ],
          [
            36.093006,
            50.225355
          ],
          [
            36.095635,
            50.236189
          ],
          [
            36.093006,
            50.236116
          ],
          [
            36.083736,
            50.23985
          ],
          [
            36.086826,
            50.24479
          ],
          [
            36.091976,
            50.246876
          ],
          [
            36.102104,
            50.237544
          ],
          [
            36.116352,
            50.241057
          ],
          [
            36.122017,
            50.241057
          ],
          [
            36.120644,
            50.250059
          ],
          [
            36.12751,
            50.255876
          ],
          [
            36.130772,
            50.255547
          ],
          [
            36.140556,
            50.264326
          ],
          [
            36.139698,
            50.26685
          ],
          [
            36.143646,
            50.269045
          ],
          [
            36.148109,
            50.269374
          ],
          [
            36.152229,
            50.271239
          ],
          [
            36.149139,
            50.273104
          ],
          [
            36.148453,
            50.276286
          ],
          [
            36.150856,
            50.278151
          ],
          [
            36.157551,
            50.277054
          ],
          [
            36.160126,
            50.282813
          ],
          [
            36.168623,
            50.283307
          ],
          [
            36.168623,
            50.287255
          ],
          [
            36.173687,
            50.288133
          ],
          [
            36.172915,
            50.293068
          ],
          [
            36.170683,
            50.298003
          ],
          [
            36.17034,
            50.298606
          ],
          [
            36.163387,
            50.300306
          ],
          [
            36.166391,
            50.30217
          ],
          [
            36.166649,
            50.303814
          ],
          [
            36.167164,
            50.305733
          ],
          [
            36.168709,
            50.307104
          ],
          [
            36.163816,
            50.310118
          ],
          [
            36.165447,
            50.314723
          ],
          [
            36.159525,
            50.315599
          ],
          [
            36.160469,
            50.317024
          ],
          [
            36.158838,
            50.317627
          ],
          [
            36.158409,
            50.321738
          ],
          [
            36.161757,
            50.323656
          ],
          [
            36.154203,
            50.326834
          ],
          [
            36.151757,
            50.326135
          ],
          [
            36.151135,
            50.326423
          ],
          [
            36.151865,
            50.326601
          ],
          [
            36.152122,
            50.327368
          ],
          [
            36.153688,
            50.327437
          ],
          [
            36.154847,
            50.327478
          ],
          [
            36.15562,
            50.327395
          ],
          [
            36.156714,
            50.328094
          ],
          [
            36.162229,
            50.326834
          ],
          [
            36.163666,
            50.328875
          ],
          [
            36.161778,
            50.329217
          ],
          [
            36.160297,
            50.329573
          ],
          [
            36.15931,
            50.329601
          ],
          [
            36.158152,
            50.329409
          ],
          [
            36.156993,
            50.329601
          ],
          [
            36.156135,
            50.32956
          ],
          [
            36.155469,
            50.329765
          ],
          [
            36.154332,
            50.329697
          ],
          [
            36.15401,
            50.329888
          ],
          [
            36.154268,
            50.330286
          ],
          [
            36.153452,
            50.330245
          ],
          [
            36.15165,
            50.330217
          ],
          [
            36.150684,
            50.331025
          ],
          [
            36.15386,
            50.331409
          ],
          [
            36.154461,
            50.331642
          ],
          [
            36.154547,
            50.332012
          ],
          [
            36.155105,
            50.331902
          ],
          [
            36.155126,
            50.331669
          ],
          [
            36.159396,
            50.331738
          ],
          [
            36.159697,
            50.332176
          ],
          [
            36.161349,
            50.331655
          ],
          [
            36.161327,
            50.331286
          ],
          [
            36.161993,
            50.331176
          ],
          [
            36.162164,
            50.33134
          ],
          [
            36.165082,
            50.329971
          ],
          [
            36.16549,
            50.331108
          ],
          [
            36.165748,
            50.331299
          ],
          [
            36.165705,
            50.331546
          ],
          [
            36.165447,
            50.331655
          ],
          [
            36.167657,
            50.333422
          ],
          [
            36.169116,
            50.333929
          ],
          [
            36.169288,
            50.334313
          ],
          [
            36.172829,
            50.334203
          ],
          [
            36.172721,
            50.334641
          ],
          [
            36.172185,
            50.334833
          ],
          [
            36.1724,
            50.336449
          ],
          [
            36.172593,
            50.337107
          ],
          [
            36.172013,
            50.337668
          ],
          [
            36.17182,
            50.33923
          ],
          [
            36.172056,
            50.340695
          ],
          [
            36.172314,
            50.345351
          ],
          [
            36.174202,
            50.352361
          ],
          [
            36.179523,
            50.353676
          ],
          [
            36.18021,
            50.357728
          ],
          [
            36.182785,
            50.360137
          ],
          [
            36.190681,
            50.362218
          ],
          [
            36.19051,
            50.368569
          ],
          [
            36.189995,
            50.373277
          ],
          [
            36.193428,
            50.375576
          ],
          [
            36.19875,
            50.378642
          ],
          [
            36.203384,
            50.381816
          ],
          [
            36.207955,
            50.384094
          ],
          [
            36.208245,
            50.384915
          ],
          [
            36.208405,
            50.38538
          ],
          [
            36.208642,
            50.386324
          ],
          [
            36.209199,
            50.386571
          ],
          [
            36.209725,
            50.386345
          ],
          [
            36.210991,
            50.386215
          ],
          [
            36.23085,
            50.371471
          ],
          [
            36.233597,
            50.363915
          ],
          [
            36.242437,
            50.358166
          ],
          [
            36.255484,
            50.355483
          ],
          [
            36.283722,
            50.3356
          ],
          [
            36.274452,
            50.324752
          ],
          [
            36.280117,
            50.323546
          ],
          [
            36.275997,
            50.31675
          ],
          [
            36.286125,
            50.305569
          ],
          [
            36.286297,
            50.299209
          ],
          [
            36.298656,
            50.299319
          ],
          [
            36.295567,
            50.292191
          ],
          [
            36.354961,
            50.288242
          ],
          [
            36.361313,
            50.287036
          ],
          [
            36.378307,
            50.29252
          ],
          [
            36.376076,
            50.299209
          ],
          [
            36.405258,
            50.309954
          ],
          [
            36.425171,
            50.328806
          ],
          [
            36.432896,
            50.331217
          ],
          [
            36.440449,
            50.311489
          ],
          [
            36.474094,
            50.313352
          ],
          [
            36.487999,
            50.311818
          ],
          [
            36.495209,
            50.303705
          ],
          [
            36.51701,
            50.294165
          ],
          [
            36.526451,
            50.293616
          ],
          [
            36.523705,
            50.287365
          ],
          [
            36.554089,
            50.281442
          ],
          [
            36.55838,
            50.256864
          ],
          [
            36.557693,
            50.232713
          ],
          [
            36.549797,
            50.180196
          ],
          [
            36.55426,
            50.1736
          ],
          [
            36.55529,
            50.163704
          ],
          [
            36.560097,
            50.151386
          ],
          [
            36.561813,
            50.134664
          ],
          [
            36.5625,
            50.106047
          ],
          [
            36.56044,
            50.09834
          ],
          [
            36.556664,
            50.087327
          ],
          [
            36.549797,
            50.076532
          ],
          [
            36.544991,
            50.06926
          ],
          [
            36.528854,
            50.059784
          ],
          [
            36.507912,
            50.054935
          ],
          [
            36.470833,
            50.055155
          ],
          [
            36.444397,
            50.061988
          ],
          [
            36.422768,
            50.070803
          ],
          [
            36.405258,
            50.070362
          ],
          [
            36.390152,
            50.066175
          ],
          [
            36.363716,
            50.068599
          ],
          [
            36.33316,
            50.072786
          ],
          [
            36.287498,
            50.071244
          ],
          [
            36.259003,
            50.073227
          ],
          [
            36.256256,
            50.08182
          ],
          [
            36.257973,
            50.093715
          ],
          [
            36.251793,
            50.104946
          ],
          [
            36.231537,
            50.126301
          ],
          [
            36.211967,
            50.128942
          ],
          [
            36.192741,
            50.127842
          ],
          [
            36.181755,
            50.120578
          ],
          [
            36.166649,
            50.119257
          ],
          [
            36.155663,
            50.120358
          ],
          [
            36.147423,
            50.122559
          ],
          [
            36.13266,
            50.125201
          ],
          [
            36.122704,
            50.127622
          ],
          [
            36.107254,
            50.130043
          ],
          [
            36.099358,
            50.132023
          ],
          [
            36.089401,
            50.137965
          ],
          [
            36.084251,
            50.145446
          ],
          [
            36.080132,
            50.157326
          ],
          [
            36.064339,
            50.155786
          ],
          [
            36.043739,
            50.168542
          ],
          [
            36.058846,
            50.17294
          ],
          [
            36.066141,
            50.17874
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#1c2202",
        "fillColor": "#1c2202",
        "fillOpacity": 0,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              30.878448,
              52.412053
            ],
            [
              30.898361,
              52.47358
            ],
            [
              30.991058,
              52.48738
            ],
            [
              31.107101,
              52.481944
            ],
            [
              31.151047,
              52.461867
            ],
            [
              31.185379,
              52.446385
            ],
            [
              31.192245,
              52.420429
            ],
            [
              31.170273,
              52.38943
            ],
            [
              31.14624,
              52.360925
            ],
            [
              31.077576,
              52.3345
            ],
            [
              31.021957,
              52.329884
            ],
            [
              30.987625,
              52.337017
            ],
            [
              30.957413,
              52.34373
            ],
            [
              30.917587,
              52.356732
            ],
            [
              30.891495,
              52.402419
            ],
            [
              30.878448,
              52.412053
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          31.077576,
          52.361764
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          31.127014,
          52.373503
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          30.905914,
          52.419801
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          31.125298,
          52.458938
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          30.983162,
          52.425873
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.12957,
          50.307761
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          31.107101,
          52.428385
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#1c2202",
        "fillColor": "#1c2202",
        "fillOpacity": 0,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              24.842834,
              49.804314
            ],
            [
              24.854507,
              49.824695
            ],
            [
              24.893646,
              49.833554
            ],
            [
              24.934158,
              49.827796
            ],
            [
              24.942398,
              49.807416
            ],
            [
              24.938278,
              49.781264
            ],
            [
              24.862747,
              49.777717
            ],
            [
              24.851074,
              49.782594
            ],
            [
              24.842834,
              49.804314
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          24.855366,
          49.795339
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          24.906864,
          49.823034
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          24.895191,
          49.807194
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          24.914417,
          49.787582
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.320457,
          50.099881
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.374016,
          50.239081
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.293507,
          50.140386
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.190166,
          50.271678
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.193943,
          50.327053
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.169395,
          50.234469
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.148109,
          50.206132
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          35.882034,
          50.280564
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          35.79689,
          50.217337
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "airfield"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.069489,
          50.368898
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          35.982285,
          50.282539
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.033096,
          50.18833
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.061249,
          50.305349
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          35.949841,
          50.159195
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          35.798264,
          50.266521
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.069489,
          50.265424
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "base"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.102104,
          50.347651
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#00ff40",
        "fillColor": "#00ff40",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.091976,
              50.246793
            ],
            [
              36.086912,
              50.244927
            ],
            [
              36.083651,
              50.239959
            ],
            [
              36.093087,
              50.236106
            ],
            [
              36.09564,
              50.236178
            ],
            [
              36.094315,
              50.230654
            ],
            [
              36.098692,
              50.230914
            ],
            [
              36.105452,
              50.233536
            ],
            [
              36.108112,
              50.234209
            ],
            [
              36.105623,
              50.236295
            ],
            [
              36.101804,
              50.237214
            ],
            [
              36.10219,
              50.237599
            ],
            [
              36.091976,
              50.246793
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#00ff11",
        "fillColor": "#00ff11",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.127682,
              50.255821
            ],
            [
              36.130772,
              50.255547
            ],
            [
              36.135964,
              50.253626
            ],
            [
              36.137037,
              50.253023
            ],
            [
              36.137466,
              50.252144
            ],
            [
              36.137853,
              50.251321
            ],
            [
              36.138496,
              50.250114
            ],
            [
              36.137284,
              50.250399
            ],
            [
              36.136093,
              50.250104
            ],
            [
              36.135149,
              50.250141
            ],
            [
              36.133604,
              50.250498
            ],
            [
              36.132402,
              50.251568
            ],
            [
              36.131716,
              50.253105
            ],
            [
              36.130857,
              50.254093
            ],
            [
              36.12781,
              50.25316
            ],
            [
              36.126008,
              50.251952
            ],
            [
              36.12442,
              50.252199
            ],
            [
              36.123519,
              50.252721
            ],
            [
              36.127682,
              50.255821
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#ff0000",
        "fillColor": "#ff0000",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.17034,
              50.298565
            ],
            [
              36.167872,
              50.298099
            ],
            [
              36.166735,
              50.297468
            ],
            [
              36.164492,
              50.297544
            ],
            [
              36.163816,
              50.29681
            ],
            [
              36.165029,
              50.29631
            ],
            [
              36.164417,
              50.295727
            ],
            [
              36.163387,
              50.295632
            ],
            [
              36.162894,
              50.295316
            ],
            [
              36.163323,
              50.295069
            ],
            [
              36.163141,
              50.294645
            ],
            [
              36.163709,
              50.294597
            ],
            [
              36.163999,
              50.294322
            ],
            [
              36.164739,
              50.294754
            ],
            [
              36.165206,
              50.295011
            ],
            [
              36.165833,
              50.295453
            ],
            [
              36.166391,
              50.295865
            ],
            [
              36.167014,
              50.29644
            ],
            [
              36.16828,
              50.297016
            ],
            [
              36.170533,
              50.298318
            ],
            [
              36.17034,
              50.298565
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#04ff00",
        "fillColor": "#04ff00",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.166874,
              50.304808
            ],
            [
              36.167829,
              50.304849
            ],
            [
              36.169556,
              50.304657
            ],
            [
              36.171048,
              50.30452
            ],
            [
              36.174706,
              50.303958
            ],
            [
              36.174899,
              50.303108
            ],
            [
              36.171187,
              50.302115
            ],
            [
              36.17197,
              50.301436
            ],
            [
              36.171767,
              50.301066
            ],
            [
              36.170683,
              50.301166
            ],
            [
              36.16917,
              50.301303
            ],
            [
              36.168666,
              50.301776
            ],
            [
              36.167727,
              50.301111
            ],
            [
              36.168162,
              50.302307
            ],
            [
              36.167496,
              50.302348
            ],
            [
              36.166778,
              50.302403
            ],
            [
              36.166466,
              50.302505
            ],
            [
              36.166874,
              50.304808
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "markerType": "rocket"
      },
      "geometry": {
        "type": "Point",
        "coordinates": [
          36.274452,
          50.140606
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#04ff00",
        "fillColor": "#04ff00",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.150684,
              50.331012
            ],
            [
              36.151714,
              50.330217
            ],
            [
              36.154289,
              50.330327
            ],
            [
              36.15401,
              50.329902
            ],
            [
              36.154375,
              50.329697
            ],
            [
              36.155448,
              50.329793
            ],
            [
              36.156135,
              50.329587
            ],
            [
              36.157057,
              50.329642
            ],
            [
              36.158237,
              50.329436
            ],
            [
              36.15931,
              50.329642
            ],
            [
              36.160319,
              50.32956
            ],
            [
              36.163645,
              50.328875
            ],
            [
              36.166499,
              50.325902
            ],
            [
              36.168988,
              50.324998
            ],
            [
              36.169996,
              50.325998
            ],
            [
              36.169739,
              50.327368
            ],
            [
              36.169846,
              50.328094
            ],
            [
              36.170447,
              50.328697
            ],
            [
              36.171091,
              50.329149
            ],
            [
              36.171927,
              50.329601
            ],
            [
              36.171262,
              50.330094
            ],
            [
              36.169653,
              50.330135
            ],
            [
              36.167808,
              50.33019
            ],
            [
              36.166155,
              50.329957
            ],
            [
              36.164997,
              50.330039
            ],
            [
              36.162207,
              50.331327
            ],
            [
              36.162014,
              50.33119
            ],
            [
              36.16137,
              50.331299
            ],
            [
              36.16137,
              50.33171
            ],
            [
              36.159718,
              50.332203
            ],
            [
              36.159439,
              50.331738
            ],
            [
              36.155169,
              50.331683
            ],
            [
              36.155105,
              50.331902
            ],
            [
              36.15459,
              50.332012
            ],
            [
              36.154547,
              50.331724
            ],
            [
              36.153882,
              50.331464
            ],
            [
              36.150684,
              50.331012
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#ff0000",
        "fillColor": "#ff0000",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.136093,
              50.2501
            ],
            [
              36.137284,
              50.250388
            ],
            [
              36.13848,
              50.250107
            ],
            [
              36.139623,
              50.248388
            ],
            [
              36.139789,
              50.247356
            ],
            [
              36.136093,
              50.2501
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#ff0000",
        "fillColor": "#ff0000",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.152186,
              50.271267
            ],
            [
              36.151392,
              50.271164
            ],
            [
              36.150062,
              50.271013
            ],
            [
              36.149054,
              50.271164
            ],
            [
              36.147927,
              50.271706
            ],
            [
              36.149086,
              50.273159
            ],
            [
              36.152186,
              50.271267
            ]
          ]
        ]
      }
    },
    {
      "type": "Feature",
      "properties": {
        "color": "#11ff00",
        "fillColor": "#11ff00",
        "fillOpacity": 0.1,
        "weight": 3
      },
      "geometry": {
        "type": "Polygon",
        "coordinates": [
          [
            [
              36.03756,
              50.212669
            ],
            [
              36.05391,
              50.216184
            ],
            [
              36.060262,
              50.217886
            ],
            [
              36.067557,
              50.219863
            ],
            [
              36.068888,
              50.218326
            ],
            [
              36.071463,
              50.217612
            ],
            [
              36.073265,
              50.215333
            ],
            [
              36.074939,
              50.21363
            ],
            [
              36.074038,
              50.212998
            ],
            [
              36.071119,
              50.212888
            ],
            [
              36.069145,
              50.212888
            ],
            [
              36.067386,
              50.21201
            ],
            [
              36.064253,
              50.208082
            ],
            [
              36.061463,
              50.206928
            ],
            [
              36.03756,
              50.212669
            ]
          ]
        ]
      }
    }
  ]
};
        
        // Инициализация карты
        var southWest = L.latLng(44.0, 22.0);
        var northEast = L.latLng(53.0, 40.5);
        var bounds = L.latLngBounds(southWest, northEast);

        var map = L.map('map', {
            center: [48.3794, 31.1656],
            zoom: 6,
            minZoom: 5,
            maxZoom: 18,
            maxBounds: bounds,
            maxBoundsViscosity: 1.0
        });

        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://carto.com/attributions">CartoDB</a> &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
            subdomains: 'abcd',
            maxZoom: 20
        }).addTo(map);

        // Иконки для маркеров
        const markerIcons = {
            rocket: L.divIcon({
                html: '🚀',
                className: 'emoji-marker',
                iconSize: [24, 24],
                iconAnchor: [12, 24],
                popupAnchor: [0, -24]
            }),
            airfield: L.divIcon({
                html: '✈️',
                className: 'emoji-marker',
                iconSize: [24, 24],
                iconAnchor: [12, 24],
                popupAnchor: [0, -24]
            }),
            base: L.divIcon({
                html: '⚔️',
                className: 'emoji-marker',
                iconSize: [24, 24],
                iconAnchor: [12, 24],
                popupAnchor: [0, -24]
            })
        };

        // Загрузка данных на карту
        L.geoJSON(mapData, {
            style: function(feature) {
                // Исправление: корректно обрабатываем нулевую прозрачность
                const fillOpacity = feature.properties.fillOpacity !== undefined ? 
                    feature.properties.fillOpacity : 0.5;
                
                return {
                    color: feature.properties.color || '#ff0000',
                    fillColor: feature.properties.fillColor || '#ff0000',
                    fillOpacity: fillOpacity,
                    weight: feature.properties.weight || 3
                };
            },
            pointToLayer: function(feature, latlng) {
                if (feature.geometry.type === 'Point') {
                    var markerType = feature.properties.markerType || 'rocket';
                    var marker = L.marker(latlng, {
                        icon: markerIcons[markerType]
                    });
                    if (markerType === 'rocket') {
                        marker.bindPopup('Загроза Оріщанки');
                    } else if (markerType === 'airfield') {
                        marker.bindPopup('Аэродром');
                    } else if (markerType === 'base') {
                        marker.bindPopup('Военная база');
                    }
                    return marker;
                }
            }
        }).addTo(map);

        // Функция для скрытия маркеров при маленьком масштабе
        const MIN_ZOOM_FOR_MARKERS = 9;
        function updateMarkerVisibility() {
            const currentZoom = map.getZoom();
            map.eachLayer(function(layer) {
                if (layer instanceof L.Marker) {
                    layer.setOpacity(currentZoom >= MIN_ZOOM_FOR_MARKERS ? 1 : 0);
                }
            });
        }

        map.on('zoomend', updateMarkerVisibility);
        updateMarkerVisibility(); // Initial update
    </script>
</body>
</html>